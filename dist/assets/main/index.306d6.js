System.register("chunks:///_virtual/licensing.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,t,c;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator,c=n.Component}],execute:function(){var o;i._RF.push({},"2c9a4DD8zxH2Izkicxp2GTW","licensing",void 0);var r=t.ccclass;t.property,n("licensing",r("licensing")(o=function(n){function i(){return n.apply(this,arguments)||this}return e(i,n),i.prototype.openLink=function(n,e){window.open(e,"_blank")},i}(c))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./licensing.ts","./main.ts","./spin.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,s,t,h,r,a,n,l,o,c,u,z,x,p,v,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,s=e.inheritsLoose,t=e.initializerDefineProperty,h=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,n=e.gfx,l=e.Camera,o=e.RenderTexture,c=e.Mesh,u=e.MeshRenderer,z=e.Prefab,x=e.v3,p=e.instantiate,v=e.utils,m=e.Component}],execute:function(){var f,d,b,g,y,_,P,w,M,R,A,X,Y,Z,C,S,T,F,I,O,B;r._RF.push({},"357feA3RhtIp5dHbwePBt7G","main",void 0);var L=a.ccclass,D=a.property,G=n.Format,H=n.AttributeName,N=H.ATTR_POSITION,U=H.ATTR_COLOR;e("Main",(f=L("Main"),d=D(l),b=D(l),g=D(l),y=D(o),_=D(o),P=D(o),w=D(c),M=D(u),R=D(z),f((Y=i((X=function(e){function i(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"camX",Y,h(i)),t(i,"camY",Z,h(i)),t(i,"camZ",C,h(i)),t(i,"textureX",S,h(i)),t(i,"textureY",T,h(i)),t(i,"textureZ",F,h(i)),t(i,"unitMesh",I,h(i)),t(i,"meshRender",O,h(i)),t(i,"voxel",B,h(i)),i.size=32,i.voxels=void 0,i.pixels=void 0,i.scale=x(),i.len=0,i.frame=void 0,i}s(i,e);var r=i.prototype;return r.onLoad=function(){this.size=33,this._onSizeChange()},r.setSize=function(e){this.size=12+~~(108*e.progress),this._onSizeChange()},r.update=function(){this.frame>=this.size||this._capturePixels()},r._onSizeChange=function(){this.node.removeAllChildren(),this.textureX.resize(this.size,this.size),this.textureY.resize(this.size,this.size),this.textureZ.resize(this.size,this.size),this.len=1/this.size,this.camX.node.active=!0,this.camY.node.active=!0,this.camZ.node.active=!0,this.camX.node.setPosition(.5+this.len/2,0,0),this.camY.node.setPosition(0,.5+this.len/2,0),this.camZ.node.setPosition(0,0,.5+this.len/2),this.voxels=new Float32Array(this.size*this.size*this.size*4),this.pixels=new Uint8Array(this.size*this.size*4),this.frame=0},r._capturePixels=function(){var e=this,i=this.frame;this.camX.near=1-i*this.len,this.camY.near=1-i*this.len,this.camZ.near=1-i*this.len,this.camX.far=this.camX.near+this.len,this.camY.far=this.camY.near+this.len,this.camZ.far=this.camZ.near+this.len,this.scheduleOnce((function(){e._storePixels(i),i===e.size-1&&e._renderVoxels()}),0),this.frame++},r._storePixels=function(e){var i=0,s=this.size-1;this.textureX.readPixels(0,0,this.size,this.size,this.pixels);for(var t=0;t<this.size;t++)for(var h=0;h<this.size;h++){var r=h,a=s-t;i=4*(e*this.size*this.size+r*this.size+a),this.voxels[i+0]+=this.pixels[4*(t+h*this.size)+0],this.voxels[i+1]+=this.pixels[4*(t+h*this.size)+1],this.voxels[i+2]+=this.pixels[4*(t+h*this.size)+2],this.voxels[i+3]+=this.pixels[4*(t+h*this.size)+3]}this.textureY.readPixels(0,0,this.size,this.size,this.pixels);for(var n=0;n<this.size;n++)for(var l=0;l<this.size;l++){var o=e,c=s-l;i=4*(n*this.size*this.size+o*this.size+c),this.voxels[i+0]+=this.pixels[4*(n+l*this.size)+0],this.voxels[i+1]+=this.pixels[4*(n+l*this.size)+1],this.voxels[i+2]+=this.pixels[4*(n+l*this.size)+2],this.voxels[i+3]+=this.pixels[4*(n+l*this.size)+3]}this.textureZ.readPixels(0,0,this.size,this.size,this.pixels);for(var u=0;u<this.size;u++)for(var z=0;z<this.size;z++){var x=z,p=e;i=4*(u*this.size*this.size+x*this.size+p),this.voxels[i+0]+=this.pixels[4*(u+z*this.size)+0],this.voxels[i+1]+=this.pixels[4*(u+z*this.size)+1],this.voxels[i+2]+=this.pixels[4*(u+z*this.size)+2],this.voxels[i+3]+=this.pixels[4*(u+z*this.size)+3]}},r._renderVoxels=function(){this.camX.node.active=!1,this.camY.node.active=!1,this.camZ.node.active=!1;var e=this.unitMesh.readAttribute(0,N),i=this.unitMesh.readIndices(0),s=e.length/3,t=this.unitMesh.struct,h=t.minPosition,r=t.maxPosition;this.scale.set(r).subtract(h),this.scale.x&&(this.scale.x=1/this.scale.x),this.scale.y&&(this.scale.y=1/this.scale.y),this.scale.z&&(this.scale.z=1/this.scale.z),this.scale.multiplyScalar(this.len);for(var a=[],n=[],l=[],o=0,c=0;c<this.size;c++)for(var u=0;u<this.size;u++)for(var z=0;z<this.size;z++){var x=4*(c*this.size*this.size+u*this.size+z),p=this.voxels[x+0],v=this.voxels[x+1],m=this.voxels[x+2],f=this.voxels[x+3];if(f>0){i.forEach((function(e){n.push(s*o+e)}));for(var d=0;d<s;d++)a.push(e[3*d+0]*this.scale.x+c*this.len-.5),a.push(e[3*d+1]*this.scale.y+u*this.len-.5),a.push(e[3*d+2]*this.scale.z+z*this.len-.5),l.push(p/f,v/f,m/f,1);o++,n.length>=2048&&(this._createMesh(a,n,l),a.length=0,n.length=0,l.length=0,o=0)}}o&&this._createMesh(a,n,l)},r._createMesh=function(e,i,s){var t=p(this.meshRender.node),h=v.MeshUtils.createMesh({positions:e,indices:i,colors:s,attributes:[new n.Attribute(N,G.RGB32F),new n.Attribute(U,G.RGBA32F)]});t.getComponent(u).mesh=h,this.node.addChild(t)},i}(m)).prototype,"camX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(X.prototype,"camY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(X.prototype,"camZ",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(X.prototype,"textureX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(X.prototype,"textureY",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(X.prototype,"textureZ",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(X.prototype,"unitMesh",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(X.prototype,"meshRender",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(X.prototype,"voxel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=X))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/spin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,a,c,p,u,l,f,v,h,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.v2,c=e.quat,p=e.CCFloat,u=e.input,l=e.Input,f=e.Quat,v=e.Vec3,h=e.misc,d=e.NodeSpace,y=e.Component}],execute:function(){var m,_,g,T,b;r._RF.push({},"08fe33BmVtJ+ojlNVpwhko3","spin",void 0);var D=s.ccclass,E=s.property,C=a(),I=a(),L=c(),O=c();e("Spin",(m=D("Spin"),_=E(p),m((b=t((T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"speed",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){u.on(l.EventType.TOUCH_MOVE,this._move,this)},r.onDisable=function(){u.off(l.EventType.TOUCH_MOVE,this._move,this)},r._move=function(e){e.getPreviousLocation(C),e.getLocation(I),L.set(f.IDENTITY);var t=I.x-C.x;f.fromAxisAngle(O,v.UNIT_Y,h.degreesToRadians(t*this.speed)),f.multiply(L,L,O),this.node.rotate(L,d.WORLD)},t}(y)).prototype,"speed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=T))||g));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});